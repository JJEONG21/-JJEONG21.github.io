# Frontend

# 브라우저 저장소

## 로컬 스토리지 vs 세션 스토리지 vs 쿠키

- 로컬 스토리지 & 세션 스토리지
    - HTML5에 추가된 저장소
    - 간단한 키와 값 저장 가능 (key-value)
    - Storage 객체를 상속받아 메소드가 공통으로 존재
- 로컬 스토리지
    - 데이터가 지우기 전까지는 계속 저장되어 있음 → 사용자의 설정(보안에 민감하지 않은)이나 데이터들을 넣어두면 됨
    - `window.localStorage`
    - 키와 밸류를 순서대로 저장하면 됨
    - 값: 문자열, 불린, 숫자, null, undefined 저장 가능하나 모두 문자열로 변환됨
    - 키도 문자열로 변환됨
    - `localStorage.setItem(키, 값)`
    - `localStorage.getItem(키)`
    - `localStorage.removeItem(키)`
    - `localStorage.clear()`
    
    ```jsx
    localStorage.setItem('object', JSON.stringify({ a: 'b' }));
    JSON.parse(localStorage.getItem('object')); // { a: 'b' }
    ```
    
- 세션 스토리지
    - `window.sessionStorage`
    - clear, getItem, setItem, removeItem, key 등 모든 메소드가 같음
    - 로컬 스토리지와 다르게 데이터가 영구적으로 보관되지는 않음
- 로컬 스토리지 vs 세션 스토리지
    - 영구성
        - 로컬스토리지 데이터는 사용자가 지우지 않는 이상 계속 브라우저에 남아 있음
        - 세션 스토리지 데이터는 윈도우나 브라우저 탭을 닫을 경우 제거 됨
        - 지속적으로 필요한 데이터(자동 로그인)은 로컬 스토리지에 저장하고, 잠깐 동안 필요한 정보(일회성 로그인 등)은 세션 스토리지에 저장
        - 비밀번호와 같은 중요한 정보는 로컬 스토리지에 절대 저장하지 말 것!  ← 클라이언트에 저장하는 것은 언제든지 정보가 털릴 위험
- 쿠키
    - 만료 기한이 있는 키-값 저장소
    - `document.cookie` 하면 현재 쿠키 정보가 나옴
    - 4KB 용량 제한
    - 매 서버 요청마다 서버로 쿠키가 같이 전송 됨
- 서버에 쿠키가 전송되는 이유?
    - HTTP 요청은 상태를 갖고 있지 않기 때문
    - 서버와 클라이언트 간의 지속적인 데이터 교환을 위해 만들어졌기 때문에 서버로 계속 전송 됨
        - ex) 브라우저에서 서버로 나에 대한 정보를 가져오라는 GET/me 요청 시 서버는 요청 자체로만은 누구에게서 오는 지 알 수 없음. 이 때, 쿠키에 나에 대한 정보를 담아서 서버로 보내면 서버는 쿠키를 읽어서 내가 누구인지 파악
    
    → 데이터 낭비 우려 (용량 제한을 거의 다 채운 쿠키가 있다면, 요청을 할 때마다 기본 4KB 데이터 사용)
    
    ⇒ 로컬 스토리지와 세션 스토리지에 저장하여 해당 데이터는 서버로 자동 전송되지 않음
